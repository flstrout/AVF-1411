var ui=require("ui"),tblSavedData=[],read=function(){var e=Ti.Database.open("local");e.execute("CREATE TABLE IF NOT EXISTS data (id INTEGER PRIMARY KEY , date TEXT, hh TEXT, mm TEXT, length TEXT, show TEXT, episode TEXT, network TEXT, id1 TEXT, id2 TEXT)");for(var a=e.execute("SELECT id, date, hh, mm, length, show, episode, network, id1, id2 FROM data");a.isValidRow();)tblSavedData.push({date:a.fieldByName("date"),hh:a.fieldByName("hh"),mm:a.fieldByName("mm"),tLength:a.fieldByName("length"),show:a.fieldByName("show"),episode:a.fieldByName("episode"),network:a.fieldByName("network"),id1:a.fieldByName("id1"),id2:a.fieldByName("id2")}),a.next();a.close(),e.close(),ui.buildUI(tblSavedData)};exports.read=read;var create=function(e,a,t,i,o,d,l,r,n){var s=Ti.Database.open("local");s.execute("CREATE TABLE IF NOT EXISTS data (id INTEGER PRIMARY KEY , date TEXT, hh TEXT, mm TEXT, length TEXT, show TEXT, episode TEXT, network TEXT, id1 TEXT, id2 TEXT)"),s.execute("INSERT INTO data (date, hh, mm, length, show, episode, network, id1, id2) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)",e,a,t,i,o,d,l,r,n);s.lastInsertRowId;s.close(),tblSavedData=[],read()};exports.create=create;var update1=function(e,a){var t=Ti.Database.open("local");t.execute("UPDATE data SET epSyn=? WHERE id1=?",e,a),t.close()};exports.update1=update1;var update2=function(e,a,t){var i=Ti.Database.open("local");i.execute("UPDATE data SET shSyn=?, shImg=? WHERE id2=?",e,a,t),i.close()};exports.update2=update2,exports.tblSavedData=tblSavedData;