var saveData=require("db"),netCheck=function(e){var i=function(){var e=JSON.parse(this.responseText),i=e.current_observation,t=e.forecast.simpleforecast.forecastday[0];console.log(e);var n=i.icon,a=i.display_location.full,o=i.feelslike_f,r=i.observation_time,s=i.weather,l=t.low.fahrenheit,d=t.high.fahrenheit,c=i.temp_f,T=i.temp_c,u=i.relative_humidity,f=i.precip_today_in,p=i.heat_index_f,h=i.pressure_in,E=i.wind_mph,m=i.wind_dir,g=i.wind_degrees;if(i.observation_time_rfc822.substring(17,19)>=18||i.observation_time_rfc822.substring(17,19)<=5)var w=!0;else var w=!1;if("clear"===n||"sunny"===n)if(w===!1)var y="/icons/Sun.gif";else var y="/icons/Moon.gif";else if("chancerain"===n||"rain"===n)var y="/icons/Rain.gif";else if("tstorms"===n||"unknown"===n)var y="/icons/Lightning.gif";else if("cloudy"===n)var y="/icons/Overcast.gif";else if(w===!1)var y="/icons/PartlyCloudy.gif";else var y="/icons/MoonCloudy.gif";saveData.create(y,a,o,r,s,l,d,c,T,u,f,p,h,E,m,g,w),loginCloud.updateCloud(y,a,o,r,s,l,d,c,T,u,f,p,h,E,m,g,w)},t=function(e){alert("Error: "+e.error)};if(Ti.Network.online){var n=Ti.Database.open("localData");n.execute("DELETE FROM tblData"),n.close();var a=Ti.Network.createHTTPClient({onload:i,onerror:t});a.open("GET",e),a.send()}else alert("Network unavailable. Check your settings.")};exports.checkNet=netCheck;