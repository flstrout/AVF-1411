// AVF-1411 - Project 3
// Fred L. Strout
// Created: 11/11/2014
Titanium.UI.setBackgroundColor("#0f9");
Ti.Database.install("/database/timezone.sqlite", "local");

var date = "";

var getDate = require("date");
var getNetCheck = require("netCheck");
getDate.todayDate(1);
//console.log(date);
var urlAPI = "http://api.tvmaze.com/schedule?country=US&date="+date;

getNetCheck.checkNet(urlAPI);

var getTimezone = require("timezone");
getTimezone.currentLocation();

var masterView = Ti.UI.createScrollView({
	backgroundColor: "#0f9",
	scrollType: "vertical",
	layout: "vertical"
});

var lblTitle = Ti.UI.createLabel({
	text: "Primetime Channel Lineup",
	font: {fontSize: 22, fontWeight: "bold"},
	top: 15
});

var lblDate = Ti.UI.createLabel({
	text: date.substr(5,7) + "/" + date.substr(8,12) + "/" + date.substr(0,4),
	font: {fontSize: 28, fontWeight: "bold"}
});

var window = Ti.UI.createWindow({
	backgroundColor: "#0f9",
	layout: "vertical",
	top: 5
});
window.add(lblTitle);
window.add(lblDate);
window.add(masterView);

window.open();